# ğŸ¯ Real-Time Face Recognition Attendance SystemA production-ready face recognition attendance system with modern web interface, automatic registration, and attendance logging. Built with Python, Flask, Dlib, and OpenCV - optimized for efficiency and reliability.## âœ¨ Features- **ğŸš€ One-Command Setup** - Complete installation and startup with `./run.sh`- **ğŸŒ Modern Web Interface** - Bootstrap UI with real-time webcam recognition- **ğŸ¤– Automatic Registration** - Unknown faces trigger automatic 30-frame capture- **ğŸ“Š Intelligent Attendance** - CSV logging with timestamps and confidence scores- **ğŸ”Œ REST API** - Clean endpoints for integration and development- **ğŸ’ª Direct Dlib Implementation** - Reliable face detection and recognition- **âš¡ Optimized Performance** - CPU-only processing, no GPU required## ğŸš€ Quick Start```bash# Clone and setup everythinggit clone https://github.com/ayushkumar912/lightweight-face-recognition.gitcd lightweight-face-recognitionchmod +x run.sh./run.sh```**That's it!** The system will:1. âœ… Create virtual environment2. âœ… Install all dependencies 3. âœ… Validate Dlib models4. âœ… Start the web server5. âœ… Open the interface automatically**Access:** http://127.0.0.1:5000## ğŸ“± How to Use### 1. **Real-Time Recognition**- Click "Start Auto Capture" - Point camera at known faces- System automatically recognizes and logs attendance### 2. **Register New People**- Unknown face detected â†’ System automatically prompts for name- Enter person's name â†’ System captures 30 training frames- Person is immediately available for recognition### 3. **View Attendance**- Real-time attendance display on dashboard- Download CSV reports- View confidence scores and timestamps## ğŸ—ï¸ System Architecture```â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP/REST    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Direct Dlib    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   Web Frontend  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Flask API     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Face Recognition â”‚â”‚                 â”‚                 â”‚                 â”‚                   â”‚                 â”‚â”‚ â€¢ Bootstrap UI  â”‚                 â”‚ â€¢ /recognize    â”‚                   â”‚ â€¢ HOG Detection â”‚â”‚ â€¢ Webcam Feed   â”‚                 â”‚ â€¢ /register     â”‚                   â”‚ â€¢ 128-dim Encoding â”‚â”‚ â€¢ Auto-capture  â”‚                 â”‚ â€¢ /health       â”‚                   â”‚ â€¢ ResNet Model  â”‚â”‚ â€¢ Registration  â”‚                 â”‚ â€¢ /attendance   â”‚                   â”‚ â€¢ Distance Matching â”‚â”‚ â€¢ 30-frame captureâ”‚               â”‚ â€¢ CSV Export    â”‚                   â”‚ â€¢ 0.6 Tolerance â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚                                   â”‚                                       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚                          â”‚                                                         â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ Auto Registrationâ”‚                                       â”‚ Attendance CSV  â”‚                 â”‚                 â”‚                                       â”‚                 â”‚                 â”‚ â€¢ Unknown Detectionâ”‚                                    â”‚ â€¢ Name          â”‚                 â”‚ â€¢ Name Prompt   â”‚                                       â”‚ â€¢ Timestamp     â”‚                 â”‚ â€¢ 30-Frame Captureâ”‚                                     â”‚ â€¢ Confidence    â”‚                 â”‚ â€¢ Immediate Trainingâ”‚                                   â”‚ â€¢ Auto Export   â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜```## ğŸ“ Project Structure```lightweight-face-recognition/â”œâ”€â”€ ğŸ“œ README.md                    # This comprehensive guideâ”œâ”€â”€ ğŸš€ run.sh                       # One-command setup and startâ”œâ”€â”€ ğŸ“‹ requirements.txt             # Python dependenciesâ”œâ”€â”€ ğŸ“„ LICENSE                      # MIT Licenseâ”‚â”œâ”€â”€ ğŸ”Œ api/                         # Flask API Serverâ”‚   â”œâ”€â”€ app.py                      # Main Flask applicationâ”‚   â”œâ”€â”€ start_api.sh                # API startup scriptâ”‚   â””â”€â”€ attendance.csv              # Generated attendance logâ”‚â”œâ”€â”€ ğŸ§  backend/                     # Face Recognition Engineâ”‚   â”œâ”€â”€ direct_recognizer.py        # Direct Dlib implementationâ”‚   â”œâ”€â”€ known_faces/                # Training images databaseâ”‚   â”‚   â”œâ”€â”€ PersonName1/            # Individual person foldersâ”‚   â”‚   â””â”€â”€ PersonName2/            # Auto-created during registrationâ”‚   â””â”€â”€ resorces/                   # Dlib model filesâ”‚       â”œâ”€â”€ shape_predictor_68_face_landmarks.datâ”‚       â””â”€â”€ dlib_face_recognition_resnet_model_v1.datâ”‚â””â”€â”€ ğŸŒ frontend/                    # Web Interface    â”œâ”€â”€ templates/    â”‚   â””â”€â”€ index.html              # Main web interface    â””â”€â”€ static/        â”œâ”€â”€ style.css               # Bootstrap styling        â””â”€â”€ script.js               # Camera and registration logic```## ğŸ”§ API Endpoints### Recognition```httpPOST /recognize?threshold=0.6Content-Type: multipart/form-data# Response{  "face_detected": true,  "name": "John Doe",  "confidence": 0.75,  "registration_required": false,  "attendance_logged": true,  "timestamp": "2025-07-17T04:12:52"}```### Registration```httpPOST /register_personContent-Type: application/json{  "name": "John Doe",  "images": ["data:image/jpeg;base64,/9j/4AAQ...", "..."]}# Response{  "success": true,  "person_name": "John Doe",  "total_images": 30,  "valid_faces": 28,  "face_detection_rate": "93.3%"}```### Attendance```httpGET /attendanceGET /attendance?name=John&date=2025-07-17# Response{  "attendance": [    {      "Name": "John Doe",      "Timestamp": "2025-07-17 04:12:52",      "Confidence": "0.7503"    }  ],  "total_records": 1}```### Health Check```httpGET /health# Response{  "status": "healthy",  "known_faces": 3,  "total_encodings": 89,  "uptime": "0:15:32"}```## âš™ï¸ Technical Specifications### Face Recognition Engine- **Detection**: Dlib HOG + Linear SVM detector- **Landmarks**: 68-point facial landmark predictor- **Encoding**: ResNet-based 128-dimensional face descriptor- **Matching**: Euclidean distance with 0.6 tolerance- **Performance**: ~100-200ms per frame on MacBook M2### Registration Process- **Frame Count**: 30 frames at 5 FPS (6-second capture)- **Quality Filtering**: Only frames with detected faces are saved- **Format**: JPEG images at 85% quality- **Validation**: Real-time face detection during capture- **Storage**: Organized in person-specific directories### Web Interface- **Frontend**: Bootstrap 5 + Vanilla JavaScript- **Camera**: WebRTC getUserMedia API- **Capture**: HTML5 Canvas for frame processing- **Upload**: Base64 encoding for image transmission- **Updates**: Real-time status and progress display## ğŸ”§ Advanced Configuration### Recognition Threshold```bash# Lower = more strict (fewer false positives)# Higher = more lenient (more false positives)curl "http://127.0.0.1:5000/recognize?threshold=0.5"```### Manual Setup```bash# If run.sh doesn't work for your systempython -m venv .venvsource .venv/bin/activate  # Windows: .venv\\Scripts\\activatepip install -r requirements.txtcd api && python app.py```### Adding Known Faces Manually```bash# Create person directorymkdir -p backend/known_faces/"Person Name"# Add clear face images (JPG/PNG)cp face1.jpg backend/known_faces/"Person Name"/cp face2.jpg backend/known_faces/"Person Name"/# Restart server to reload```## ğŸ“Š Performance MetricsBased on testing with MacBook Air M2:| Operation | Time | Accuracy ||-----------|------|----------|| Face Detection | ~50ms | 95%+ || Face Recognition | ~100ms | 90%+ || Registration (30 frames) | ~20s | 85%+ valid frames || Database Reload | ~500ms | 100% |## ğŸ› Troubleshooting### Common Issues**"No face detected"**- Ensure good lighting- Face should be clearly visible and front-facing- Remove glasses/masks if possible during registration**"Import error: dlib"**```bash# Install dlib dependenciespip install cmakepip install dlib```**"Camera not working"**- Grant camera permissions in browser- Try different browser (Chrome recommended)- Check if camera is used by other applications**"Server won't start"**```bash# Check port availabilitylsof -i :5000# Kill conflicting processkill -9 <PID>```### Logs and Debugging```bash# View detailed logscd api && python app.py# Check attendance recordscat api/attendance.csv# Verify known facesls backend/known_faces/```## ğŸ” Security Considerations- **Local Processing**: All face data stays on your machine- **No Cloud Dependencies**: Works completely offline- **Data Privacy**: Images stored locally in `backend/known_faces/`- **Development Server**: Not suitable for production without proper security## ğŸ“ˆ Future Enhancements- [ ] **Multiple Face Recognition** - Handle multiple faces in single frame- [ ] **Performance Dashboard** - Real-time analytics and metrics- [ ] **Export Formats** - JSON, Excel export options- [ ] **Authentication** - User login and access control- [ ] **Mobile App** - React Native mobile client- [ ] **Docker Deployment** - Containerized deployment option## ğŸ¤ Contributing1. Fork the repository2. Create a feature branch: `git checkout -b feature-name`3. Commit changes: `git commit -am 'Add feature'`4. Push to branch: `git push origin feature-name`5. Submit a Pull Request## ğŸ“œ LicenseThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.## ğŸ™ Acknowledgments- **Dlib** - Face detection and recognition models- **OpenCV** - Image processing and camera capture- **Flask** - Web framework and API server- **Bootstrap** - Modern and responsive UI components---## ğŸ“ SupportFor issues and questions:- ğŸ› **Bugs**: [GitHub Issues](https://github.com/ayushkumar912/lightweight-face-recognition/issues)- ğŸ’¬ **Discussions**: [GitHub Discussions](https://github.com/ayushkumar912/lightweight-face-recognition/discussions)- ğŸ“§ **Email**: ayushkumar912@example.com---**â­ Star this repository if you found it helpful!****ğŸ”§ Built with â¤ï¸ for reliable face recognition**